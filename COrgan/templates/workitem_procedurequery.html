{% extends "luminouslayout.html" %}

{% block LHeader %}
    <!-- DATE RANGE PICKER -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('LDashboard.static', filename='js/bootstrap-daterangepicker/daterangepicker-bs3.css') }}" />
    <!-- TYPEAHEAD -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('LDashboard.static', filename='js/typeahead/typeahead.css') }}" />
    <!-- FILE UPLOAD -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('LDashboard.static', filename='js/bootstrap-fileupload/bootstrap-fileupload.min.css') }}" />
    <!-- SELECT2 -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('LDashboard.static', filename='js/select2/select2.min.css') }}" />
    <!-- UNIFORM -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('LDashboard.static', filename='js/uniform/css/uniform.default.min.css') }}" />
    <!-- JQUERY UPLOAD -->
    <!-- blueimp Gallery styles -->
    <link rel="stylesheet" href="{{ url_for('LDashboard.static', filename='js/blueimp/gallery/blueimp-gallery.min.css') }}">
    <!-- CSS to style the file input field as button and adjust the Bootstrap progress bars -->
    <link rel="stylesheet" href="{{ url_for('LDashboard.static', filename='js/jquery-upload/css/jquery.fileupload.css') }}">
    <link rel="stylesheet" href="{{ url_for('LDashboard.static', filename='js/jquery-upload/css/jquery.fileupload-ui.css') }}">
{% endblock %}

{% block LBody %}
    <div class="container">
        <div class="row">
            <div id="content" class="col-lg-12">
                <!-- PAGE HEADER-->
                <div class="row">
                    <div class="col-sm-12">
                        <div class="page-header">
                            <!-- BREADCRUMBS -->
                            <ul class="breadcrumb">
                                <li>
                                    <i class="fa fa-home"></i>
                                    <a href="{{ url_for('LDashboard.home') }}">Home</a>
                                </li>
                                <li>
                                    {{ L_PageTitle }}
                                </li>
                            </ul>
                            <!-- /BREADCRUMBS -->
                            <div class="clearfix">
                                <h3 class="content-title pull-left">{{ L_PageTitle }}</h3>
                            </div>
                            <div class="description">{{ L_PageDescription }}</div>
                        </div>
                    </div>
                </div>
                <!-- /PAGE HEADER -->
                <!-- FORMS -->
                <div class="row">
                    <div class="col-md-12">
                        <div class="row">
                            <form role="form" method="post" action="{{ url_for('LDashboard.performNewProcedureQuery') }}">
                                <div class="col-md-12">
                                    <!-- Phase Configuration -->
                                    <div class="box border grey">
                                        <div class="box-title">
                                            <h4><i class="fa fa-gears"></i><span class="hidden-inline-mobile">Configuration</span></h4>
                                        </div>
                                        <div class="box-body">
                                            <div class="form-group">
                                                <label for="tName">查询工作项的唯一名称(Name)：</label>
                                                <input name="f_name" type="text" class="form-control" id="tName" value="">
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label">Python字典风格的配置描述：</label>
                                                <div>
                                                    <textarea rows="10" cols="5" name="f_configText" class="form-control"></textarea>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group col-md-12">
                                                    <label for="t_ds_shellargs">作业命令行参数</label>
                                                    <input name="f_ds_shellargs" type="text" class="form-control" id="t_ds_shellargs" value="--total-executor-cores 2 --executor-cores 1 --num-executors 3 --executor-memory 1g">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- /Phase Configuration -->

                                    <!-- Procedure code -->
                                    <div class="box border blue">
                                        <div class="box-title">
                                            <h4><i class="fa fa-flash"></i><span class="hidden-inline-mobile">Procedure Code</span></h4>
                                        </div>
                                        <div class="box-body">
                                            <div class="row">
                                                <div class="form-group col-md-12">
                                                    <label class="control-label">过程代码：</label>
                                                    <div>
                                                        <textarea rows="20" cols="5" name="f_procedure" class="form-control"></textarea>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- /Procedure code -->

                                    <!-- Phase Global Customized Python Code -->
                                    <div class="box border inverse">
                                        <div class="box-title">
                                            <h4><i class="fa fa-puzzle-piece"></i><span class="hidden-inline-mobile">Customized Python Code</span></h4>
                                        </div>
                                        <div class="box-body">
                                            <div class="form-group">
                                                <label class="control-label">自定义Python代码段，将会以单独的文件存在并import到主处理文件：</label>
                                                <div>
                                                    <textarea rows="10" cols="5" name="f_customPyCode" class="form-control"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- /Phase Global Customized Python Code -->
                                    <button type="submit" class="btn btn-success col-md-12">提交</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <!-- /FORMS -->
                <div class="separator"></div>
                <div class="footer-tools">
                    <span class="go-top">
                        <i class="fa fa-chevron-up"></i> Top
                    </span>
                </div>
            </div><!-- /CONTENT-->
        </div>
    </div>
{% endblock %}

{% block LScript %}
    <!-- TYPEHEAD -->
    <script type="text/javascript" src="{{ url_for('LDashboard.static', filename='js/typeahead/typeahead.min.js') }}"></script>
    <!-- AUTOSIZE -->
    <script type="text/javascript" src="{{ url_for('LDashboard.static', filename='js/autosize/jquery.autosize.min.js') }}"></script>
    <!-- COUNTABLE -->
    <script type="text/javascript" src="{{ url_for('LDashboard.static', filename='js/countable/jquery.simplyCountable.min.js') }}"></script>
    <!-- INPUT MASK -->
    <script type="text/javascript" src="{{ url_for('LDashboard.static', filename='js/bootstrap-inputmask/bootstrap-inputmask.min.js') }}"></script>
    <!-- SELECT2 -->
    <script type="text/javascript" src="{{ url_for('LDashboard.static', filename='js/select2/select2.min.js') }}"></script>


    <script>
        jQuery(document).ready(function() {
            jQuery("#active-dashQuery").addClass("active");
            jQuery("#selected-dashQuery").addClass("selected");
            jQuery("#current-dashProcedureQuery-new").addClass("current");
            App.setPage("forms");  //Set current page
            App.init(); //Initialise plugins and elements
        });
    </script>
{% endblock %}