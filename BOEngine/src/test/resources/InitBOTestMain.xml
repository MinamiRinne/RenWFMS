<!--suppress ALL -->
<businessclass initial="first" name="InitBOTestMain" version="1.0" xmlns="http://www.w3.org/2005/07/scxml">

    <datamodel>
        <data id="SubPrefix" expr="'InitBOTestSub_'"></data>
        <data id="finishCount" expr="0"></data>
        <data id="test" expr="11111"></data>
    </datamodel>

    <state id="first">
        <onentry>
            <newbo src="InitBOTestSub.xml" instances="3" idExpr="SubPrefix + _instanceIndex" namelist="text">
                <param name="dataA" expr="666"></param>
                <param name="test" expr="test"></param>
            </newbo>
        </onentry>
        <transition event="InitBOTestSub.finish">
            <assign location="finishCount" expr="finishCount + 1"></assign>
            <log label="MAIN" expr="'recieved finish'"/>
        </transition>
        <transition cond="finishCount eq 3" target="finished"/>
    </state>
    <final id="finished">
        <onentry>
            <log label="MAIN" expr="'finished'"/>
        </onentry>
    </final>
</businessclass>